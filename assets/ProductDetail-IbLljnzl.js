import{d as w,u as A,k as V,r as i,c as B,I as D,o as F,a,b as s,l as g,p as m,z as b,q as T,t as r,i as u,F as f,f as h,n as z,h as n,_ as j}from"./index-BWVDYC4y.js";import{p as q}from"./productsService-pI39vK1n.js";const L={class:"product-detail-page"},R={class:"container"},M={key:0,class:"loading-state"},O={key:1,class:"error-state"},W={key:2,class:"product-detail-content"},G={class:"breadcrumb"},H={class:"current"},J={class:"product-detail-main"},K={class:"product-images"},Q={class:"main-image"},U=["src","alt"],X={key:0,class:"image-thumbnails"},Y=["onClick"],Z=["src","alt"],ss={class:"product-info"},ts={class:"product-title"},os={class:"product-brand"},es={class:"product-pricing"},as={class:"current-price"},ns={key:0,class:"original-price"},ls={key:1,class:"discount-badge"},rs={class:"product-description"},is={class:"product-options"},ds={key:0,class:"option-group"},cs={class:"color-options"},us=["onClick"],ps={class:"product-actions"},vs=["disabled"],_s={class:"btn-text"},gs={class:"product-features"},ms=w({__name:"ProductDetail",setup(bs){const N=D(),{addToCart:S}=A(),{showSuccess:k,showError:C}=V(),p=i(!0),t=i(null),d=i(""),c=i(""),y=i(""),$=B(()=>N.params.id),P=e=>new Intl.NumberFormat("es-CO").format(e),x=async()=>{try{p.value=!0;const e=await q.getProductById($.value);e.success&&e.data?(t.value=e.data,d.value=e.data.images[0]||"/placeholder-product.jpg",e.data.colors&&e.data.colors.length>0&&(c.value=e.data.colors[0]),e.data.sizes&&e.data.sizes.length>0&&(y.value=e.data.sizes[0])):t.value=null}catch(e){console.error("Error loading product:",e),C("Error","No se pudo cargar el producto"),t.value=null}finally{p.value=!1}},E=()=>{if(!t.value)return;const e={selectedColor:c.value,selectedSize:y.value};S(t.value,1,e)?k("¡Agregado!",`${t.value.name} se agregó al carrito`):C("Error","No se pudo agregar el producto al carrito")},I=()=>{t.value&&k("❤️ Agregado",`${t.value.name} se agregó a favoritos`)};return F(()=>{x()}),(e,o)=>{const v=T("router-link");return n(),a("div",L,[s("div",R,[p.value?(n(),a("div",M,o[0]||(o[0]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"Cargando producto...",-1)]))):t.value?(n(),a("div",W,[s("nav",G,[g(v,{to:"/"},{default:m(()=>o[4]||(o[4]=[b("Inicio")])),_:1,__:[4]}),o[6]||(o[6]=s("span",{class:"separator"},"›",-1)),g(v,{to:"/productos"},{default:m(()=>o[5]||(o[5]=[b("Productos")])),_:1,__:[5]}),o[7]||(o[7]=s("span",{class:"separator"},"›",-1)),s("span",H,r(t.value.name),1)]),s("div",J,[s("div",K,[s("div",Q,[s("img",{src:d.value,alt:t.value.name},null,8,U)]),t.value.images.length>1?(n(),a("div",X,[(n(!0),a(f,null,h(t.value.images,(l,_)=>(n(),a("button",{key:_,onClick:fs=>d.value=l,class:z([{active:d.value===l},"thumbnail"])},[s("img",{src:l,alt:`${t.value.name} - imagen ${_+1}`},null,8,Z)],10,Y))),128))])):u("",!0)]),s("div",ss,[s("h1",ts,r(t.value.name),1),s("p",os,r(t.value.brand),1),s("div",es,[s("span",as,"$"+r(P(t.value.price)),1),t.value.originalPrice>t.value.price?(n(),a("span",ns," $"+r(P(t.value.originalPrice)),1)):u("",!0),t.value.discount>0?(n(),a("span",ls," -"+r(t.value.discount)+"% ",1)):u("",!0)]),s("div",rs,[s("p",null,r(t.value.description),1)]),s("div",is,[t.value.colors&&t.value.colors.length>0?(n(),a("div",ds,[o[8]||(o[8]=s("label",{class:"option-label"},"Color:",-1)),s("div",cs,[(n(!0),a(f,null,h(t.value.colors,l=>(n(),a("button",{key:l,onClick:_=>c.value=l,class:z([{active:c.value===l},"color-option"])},r(l),11,us))),128))])])):u("",!0)]),s("div",ps,[s("button",{onClick:E,disabled:!t.value.inStock,class:"btn btn-primary btn-lg add-to-cart-btn"},[o[9]||(o[9]=s("span",{class:"btn-icon"},"🛒",-1)),s("span",_s,r(t.value.inStock?"Agregar al Carrito":"Agotado"),1)],8,vs),s("button",{onClick:I,class:"btn btn-outline btn-lg"},o[10]||(o[10]=[s("span",{class:"btn-icon"},"❤️",-1),s("span",{class:"btn-text"},"Favoritos",-1)]))]),s("div",gs,[o[11]||(o[11]=s("h3",null,"Características:",-1)),s("ul",null,[(n(!0),a(f,null,h(t.value.features,l=>(n(),a("li",{key:l},r(l),1))),128))])])])]),o[12]||(o[12]=s("div",{class:"product-3d-renderer"},[s("h2",null,"Renderizador 3D"),s("p",null,"Estamos trabajando en esta funcionalidad.")],-1))])):(n(),a("div",O,[o[2]||(o[2]=s("h1",null,"Producto no encontrado",-1)),o[3]||(o[3]=s("p",null,"El producto que buscas no existe o ha sido eliminado.",-1)),g(v,{to:"/productos",class:"btn btn-primary"},{default:m(()=>o[1]||(o[1]=[b(" Ver Todos los Productos ")])),_:1,__:[1]})]))])])}}}),Cs=j(ms,[["__scopeId","data-v-c022ffc6"]]);export{Cs as default};
//# sourceMappingURL=ProductDetail-IbLljnzl.js.map
