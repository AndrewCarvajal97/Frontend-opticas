import{W as i,B as l}from"./index-BWVDYC4y.js";class P extends i{constructor(){super()}async getAllProducts(){try{return{data:(await l(()=>import("./products-XlYDmg5_.js"),[])).default,status:200,message:"Products fetched successfully",success:!0}}catch{throw new Error("Error fetching products")}}async getProductsByCategory(t){return{data:(await this.getAllProducts()).data.products.filter(c=>c.category===t),status:200,message:"Products by category fetched successfully",success:!0}}async getProductById(t){const s=(await this.getAllProducts()).data.products.find(c=>c.id===t);return{data:s||null,status:s?200:404,message:s?"Product found":"Product not found",success:!!s}}async searchProducts(t){let s=[...(await this.getAllProducts()).data.products];t.category&&(s=s.filter(e=>e.category===t.category)),t.brand&&(s=s.filter(e=>e.brand.toLowerCase().includes(t.brand.toLowerCase()))),t.priceMin!==void 0&&(s=s.filter(e=>e.price>=t.priceMin)),t.priceMax!==void 0&&(s=s.filter(e=>e.price<=t.priceMax)),t.inStock!==void 0&&(s=s.filter(e=>e.inStock===t.inStock)),t.sortBy&&s.sort((e,u)=>{let o=0;switch(t.sortBy){case"price":o=e.price-u.price;break;case"rating":o=e.rating-u.rating;break;case"name":o=e.name.localeCompare(u.name);break;case"discount":o=e.discount-u.discount;break}return t.sortOrder==="desc"?-o:o});const c=t.page||1,r=t.limit||12,d=(c-1)*r,n=d+r;return{data:s.slice(d,n),status:200,message:"Products search completed",success:!0}}async getFeaturedProducts(){const t=await this.getAllProducts(),{bestsellers:a,products:s}=t.data;return{data:s.filter(r=>a.includes(r.id)),status:200,message:"Featured products fetched successfully",success:!0}}async getOnSaleProducts(){const t=await this.getAllProducts(),{onSale:a,products:s}=t.data;return{data:s.filter(r=>a.includes(r.id)||r.discount>0),status:200,message:"On sale products fetched successfully",success:!0}}async getNewArrivals(){const t=await this.getAllProducts(),{newArrivals:a,products:s}=t.data;return{data:s.filter(r=>a.includes(r.id)),status:200,message:"New arrivals fetched successfully",success:!0}}async getCategories(){return{data:(await this.getAllProducts()).data.categories,status:200,message:"Categories fetched successfully",success:!0}}async getRelatedProducts(t,a=4){const s=await this.getProductById(t);if(!s.data)return{data:[],status:404,message:"Product not found",success:!1};const c=s.data;return{data:(await this.getProductsByCategory(c.category)).data.filter(n=>n.id!==t).slice(0,a),status:200,message:"Related products fetched successfully",success:!0}}async checkStock(t,a=1){const s=await this.getProductById(t);if(!s.data)return{data:!1,status:404,message:"Product not found",success:!1};const c=s.data.inStock&&s.data.stockQuantity>=a;return{data:c,status:200,message:c?"Product available":"Insufficient stock",success:!0}}}const f=new P;export{f as p};
//# sourceMappingURL=productsService-pI39vK1n.js.map
