import{d as E,u as z,k as V,a as r,b as s,i as u,G as i,t as n,l as _,p as b,q as P,F as j,f as A,e as F,z as R,y as B,h as d,_ as D}from"./index-BWVDYC4y.js";const G={class:"cart-page"},I={class:"container"},L={class:"cart-header"},M={key:0,class:"cart-summary-badge"},O={key:0,class:"empty-cart"},W={class:"empty-cart-content"},H={class:"empty-actions"},J={key:1,class:"cart-content"},K={class:"cart-main"},U={class:"cart-items"},X={class:"items-list"},Y={class:"item-image"},Z=["src","alt"],ss={class:"item-info"},ts={class:"item-name"},as={class:"item-brand"},os={class:"item-options"},ns={key:0,class:"option-tag"},is={class:"item-price"},es={class:"current-price"},rs={key:0,class:"original-price"},ds={class:"item-quantity"},cs={class:"quantity-controls"},ls=["onClick","disabled"],us={class:"quantity-display"},ps=["onClick","disabled"],ms={class:"stock-info"},vs={class:"item-actions"},ys={class:"item-subtotal"},_s=["onClick"],bs={class:"cart-sidebar"},hs={class:"cart-summary"},gs={class:"summary-details"},Cs={class:"summary-row"},fs={class:"summary-label"},ks={class:"summary-value"},qs={key:0,class:"summary-row discount-row"},$s={class:"summary-value discount-value"},ws={class:"summary-row"},xs={class:"summary-value"},Ss={class:"summary-row"},Ns={class:"summary-value"},Qs={class:"summary-row total-row"},Ts={class:"summary-value total-value"},Es={key:0,class:"shipping-info"},zs={class:"shipping-message"},Vs={class:"summary-actions"},Ps={key:2,class:"recommended-products"},js=E({__name:"Cart",setup(As){const C=B(),{items:p,isEmpty:v,itemCount:y,cartSummary:c,updateQuantity:h,removeFromCart:f,clearCart:k}=z(),{showSuccess:m,showError:q,showWarning:$}=V(),l=o=>new Intl.NumberFormat("es-CO").format(o),w=o=>{const t=p.value.find(e=>e.id===o);if(t){const e=t.quantity+1;e<=t.product.stockQuantity?(h(o,e),m("Actualizado","Cantidad actualizada")):$("Stock limitado","No hay más unidades disponibles")}},x=o=>{const t=p.value.find(e=>e.id===o);t&&t.quantity>1&&(h(o,t.quantity-1),m("Actualizado","Cantidad actualizada"))},S=o=>{const t=p.value.find(e=>e.id===o);t&&(f(o),m("Producto removido",`${t.product.name} fue removido del carrito`))},N=()=>{window.confirm("¿Estás seguro de que quieres limpiar todo el carrito?")&&(k(),m("Carrito limpio","Todos los productos fueron removidos"))},Q=()=>{const o=T();o.valid?C.push("/checkout"):q("Error en el carrito",o.errors.join(", "))},T=()=>{const o=[];for(const t of p.value)t.product.inStock?t.quantity>t.product.stockQuantity&&o.push(`${t.product.name}: solo hay ${t.product.stockQuantity} unidades disponibles`):o.push(`${t.product.name} ya no está disponible`);return{valid:o.length===0,errors:o}};return(o,t)=>{const e=P("router-link");return d(),r("div",G,[s("div",I,[s("div",L,[t[0]||(t[0]=s("h1",{class:"page-title"},[s("span",{class:"title-icon"},"🛒"),s("span",{class:"title-text"},"Carrito de Compras")],-1)),i(v)?u("",!0):(d(),r("div",M,n(i(y))+" "+n(i(y)===1?"producto":"productos"),1))]),i(v)?(d(),r("div",O,[t[5]||(t[5]=s("div",{class:"empty-cart-illustration"},[s("div",{class:"empty-cart-icon"},"🛒"),s("div",{class:"empty-message"},"Tu carrito está vacío")],-1)),s("div",W,[t[3]||(t[3]=s("h2",{class:"empty-title"},"¡Comienza a comprar!",-1)),t[4]||(t[4]=s("p",{class:"empty-description"}," Explora nuestro catálogo de productos y encuentra las mejores gafas, lentes y accesorios para el cuidado de tu visión. ",-1)),s("div",H,[_(e,{to:"/productos",class:"btn btn-primary btn-lg"},{default:b(()=>t[1]||(t[1]=[s("span",{class:"btn-icon"},"👓",-1),s("span",{class:"btn-text"},"Ver Productos",-1)])),_:1,__:[1]}),_(e,{to:"/servicios",class:"btn btn-outline btn-lg"},{default:b(()=>t[2]||(t[2]=[s("span",{class:"btn-icon"},"⚕️",-1),s("span",{class:"btn-text"},"Nuestros Servicios",-1)])),_:1,__:[2]})])])])):(d(),r("div",J,[s("div",K,[s("div",U,[s("div",{class:"cart-section-header"},[t[7]||(t[7]=s("h2",{class:"section-title"},"Productos en tu carrito",-1)),s("button",{onClick:N,class:"clear-cart-btn"},t[6]||(t[6]=[s("span",{class:"btn-icon"},"🗑️",-1),s("span",{class:"btn-text"},"Limpiar carrito",-1)]))]),s("div",X,[(d(!0),r(j,null,A(i(p),a=>(d(),r("div",{key:a.id,class:"cart-item"},[s("div",Y,[s("img",{src:a.product.images[0]||"/placeholder-product.jpg",alt:a.product.name},null,8,Z)]),s("div",ss,[s("h3",ts,n(a.product.name),1),s("p",as,n(a.product.brand),1),s("div",os,[a.selectedColor?(d(),r("span",ns," Color: "+n(a.selectedColor),1)):u("",!0)]),s("div",is,[s("span",es,"$"+n(l(a.product.price)),1),a.product.originalPrice>a.product.price?(d(),r("span",rs," $"+n(l(a.product.originalPrice)),1)):u("",!0)])]),s("div",ds,[t[8]||(t[8]=s("label",{class:"quantity-label"},"Cantidad:",-1)),s("div",cs,[s("button",{onClick:g=>x(a.id),disabled:a.quantity<=1,class:"quantity-btn"}," − ",8,ls),s("span",us,n(a.quantity),1),s("button",{onClick:g=>w(a.id),disabled:a.quantity>=a.product.stockQuantity,class:"quantity-btn"}," + ",8,ps)]),s("p",ms," Stock disponible: "+n(a.product.stockQuantity),1)]),s("div",vs,[s("div",ys," $"+n(l(a.product.price*a.quantity)),1),s("button",{onClick:g=>S(a.id),class:"remove-item-btn",title:"Remover producto"},t[9]||(t[9]=[s("span",{class:"btn-icon"},"❌",-1)]),8,_s)])]))),128))])])]),s("div",bs,[s("div",hs,[t[18]||(t[18]=s("h2",{class:"summary-title"},"Resumen del pedido",-1)),s("div",gs,[s("div",Cs,[s("span",fs,"Subtotal ("+n(i(y))+" productos):",1),s("span",ks,"$"+n(l(i(c).subtotal)),1)]),i(c).discount>0?(d(),r("div",qs,[t[10]||(t[10]=s("span",{class:"summary-label"},"Descuentos:",-1)),s("span",$s," -$"+n(l(i(c).discount)),1)])):u("",!0),s("div",ws,[t[11]||(t[11]=s("span",{class:"summary-label"},"Envío:",-1)),s("span",xs,n(i(c).shipping===0?"GRATIS":`$${l(i(c).shipping)}`),1)]),s("div",Ss,[t[12]||(t[12]=s("span",{class:"summary-label"},"IVA (19%):",-1)),s("span",Ns,"$"+n(l(i(c).tax)),1)]),t[14]||(t[14]=s("div",{class:"summary-divider"},null,-1)),s("div",Qs,[t[13]||(t[13]=s("span",{class:"summary-label"},"Total:",-1)),s("span",Ts," $"+n(l(i(c).total)),1)])]),i(c).shipping>0?(d(),r("div",Es,[s("p",zs,[R(" 💡 Agrega $"+n(l(2e5-i(c).subtotal))+" más para obtener ",1),t[15]||(t[15]=s("strong",null,"envío gratis",-1))])])):u("",!0),s("div",Vs,[s("button",{onClick:Q,class:"btn btn-primary btn-lg checkout-btn"},t[16]||(t[16]=[s("span",{class:"btn-icon"},"🛍️",-1),s("span",{class:"btn-text"},"Finalizar Compra",-1)])),_(e,{to:"/productos",class:"btn btn-outline btn-lg"},{default:b(()=>t[17]||(t[17]=[s("span",{class:"btn-icon"},"🔙",-1),s("span",{class:"btn-text"},"Seguir Comprando",-1)])),_:1,__:[17]})]),t[19]||(t[19]=F('<div class="payment-methods" data-v-15d4b6a5><h4 class="payment-title" data-v-15d4b6a5>Métodos de pago aceptados:</h4><div class="payment-icons" data-v-15d4b6a5><span class="payment-icon" title="Efectivo" data-v-15d4b6a5>💵</span><span class="payment-icon" title="Tarjeta de Débito" data-v-15d4b6a5>💳</span><span class="payment-icon" title="Tarjeta de Crédito" data-v-15d4b6a5>💳</span><span class="payment-icon" title="Transferencia" data-v-15d4b6a5>🏦</span></div></div>',1))])])])),i(v)?u("",!0):(d(),r("div",Ps,t[20]||(t[20]=[s("h2",{class:"section-title"},"También te puede interesar",-1),s("div",{class:"products-grid"},[s("div",{class:"recommendation-placeholder"},[s("p",null,"Cargando productos recomendados...")])],-1)])))])])}}}),Rs=D(js,[["__scopeId","data-v-15d4b6a5"]]);export{Rs as default};
//# sourceMappingURL=Cart-W2CmB2CB.js.map
